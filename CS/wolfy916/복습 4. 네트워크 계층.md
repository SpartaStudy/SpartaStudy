# 복습 4. 네트워크 계층

## Q1. 네트워크 라우팅을 위해 사용되는 Link State 알고리즘과 Distance Vector 알고리즘에 대해 설명하시오.

### Link State 알고리즘

- 네트워크의 모든 라우터가 전체 네트워크의 상태 정보를 공유하여 라우팅 테이블을 만드는 알고리즘
- 각 라우터는 네트워크의 링크 상태정보를 수집하여, 이를 토대로 네트워크 맵을 구축
1. 각 라우터는 자신의 연결된 링크 정보를 수집하고 Link State 정보를 생성
2. 이 정보는 네트워크에 있는 모든 라우터에게 broadcast
3. 각 라우터는 수신된 Link State 정보를 사용하여 dijkstra 알고리즘을 실행하여 최적 경로를 찾습니다.
4. 최적 경로에 따라 라우팅 테이블 구축

### Distance Vector 알고리즘

- 각 라우터가 이웃 라우터에 대한 정보만을 교환
- 각 라우터는 자신의 라우팅 테이블을 주기적으로 거리(비용)와 방향 벡터를 기반 으로 업데이트
1. 각 라우터는 이웃 라우터에게 자신의 라우팅 테이블 정보를 전송
2. 이웃 라우터는 수신한 정보를 기반으로 자신의 라우팅 테이블을 업데이트
3. 라우터는 자신의 이웃에게서 받은 라우팅 정보와 자체 계산한 비용을 고려하여 최적 경로를 선택
4. 주기적으로 이 과정이 반복되며 라우팅 테이블 구축

## Q2. 실제 전세계의 네트워크 환경에서는 위 두 알고리즘만으로 라우팅이 이루어지기는 어렵습니다. 그 이유와, 이를 보완하기 위해 사용되는 라우팅 방식을 설명하시오.

- 대규모 네트워크의 경우 Link State의 네트워크 정보 교환 계산이 자원 낭비로 이어짐. 또한, Distance Vector도 수시로 라우팅 테이블을 업데이트하기 때문에 자원 낭비가 있음
- Distance Vector의 경우 정보가 순서대로 전파되기 때문에 딜레이가 길어질 수 있으며, 라우터간의 정보의 지연으로 최적 경로를 찾는데 오랜 시간이 걸릴 수 있음
- 이를 보완하기 위해, BGP(Border Gateway Protocol)을 사용함.

## Q3. 계층 형태의 네트워크 구조에서 AS(Autonomous System)간의 관계에는 어떤 것들이 있는지 설명하고, BGP(Border Gateway Protocol)에서의 우선순위를 나열하시오.

### 1. Peer-to-Peer

- AS 간의 동등한 관계
- 서로 직접적으로 연결되어 데이터 교환을 수행하며, 일반적으로 균등한 교환 비용을 갖음
- 주로 트래픽을 교환이 목적

### 2. Customer-Provider

- 한 AS가 다른 AS에게 서비스를 제공하는 관계
- 더 작은 규모의 AS가 더 큰 규모의 AS로부터 서비스를 받는 형태
- 데이터 교환 시, 작은 AS가 큰 AS에게 지불하고, 큰 AS는 트래픽을 전달함으로써 수익을 얻음
- 대표적으로 이러한 관계에서 작은 AS는 Customer, 큰 AS는 Provider로 분류

### BGP의 우선 순위

1. 가장 짧은 AS 경로
- AS 경로는 경로 상의 AS의 순서를 나타냄
- BGP는 가장 짧은 AS 경로를 선호하므로 더 적은 AS를 거칠수록 경로가 더 짧다고 간주

2. AS 경계의 형태
- BGP는 루프를 방지하기 위해 AS 경계의 형태를 고려
- 직접 연결된 Peer-to-Peer 관계를 다른 형태보다 선호

3. 경로 속성
- AS 경로 외에도, BGP는 다양한 경로 속성을 고려
- 예를 들어, 더 높은 대역폭, 낮은 지연 등과 관련된 속성이 있을 경우 해당 경로를 선호할 수 있음

4. 정책
- 네트워크 관리자는 BGP 경로 선택에 대한 정책을 정의 가능
- 이러한 정책은 특정 경로를 우선시하거나 배제될 수 있음

## Q4. 같은 서브넷 내부에서 이루어지는 'intra-AS routing'에서 broadcasting을 하는 방법들에 대해 설명하시오.
