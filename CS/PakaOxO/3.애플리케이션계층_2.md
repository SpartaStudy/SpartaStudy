## 3. ì• í”Œë¦¬ì¼€ì´ì…˜ ê³„ì¸µ 2

### Electronic Mail

- SMTP(Simple Mail Transfer Protocol)ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
- Three major components:
  - user agents(ex. Outlook, Apple mail ë“± client program)
  - mail servers(ex. naver, gmail, daum ë“±)
  - SMTP

<br>

> ğŸ’¡ **Mail boxì™€ Messaging Queue**
>
> &nbsp;&nbsp;ë©”ì¼ ì„œë²„ì—ëŠ” `Mail box`ì™€ `Messaging queue`ê°€ ìˆëŠ”ë° ì „ìëŠ” ìˆ˜ì‹ ëœ ë©”ì¼ì„ ë³´ê´€í•˜ëŠ” ê³³ì´ë©°, í›„ìëŠ” ìì‹ ì´ ë³´ë‚¼ ë©”ì¼ì„ ë‹´ì•„ ë†“ê¸° ìœ„í•œ íì…ë‹ˆë‹¤. `Messaging queue`ëŠ” ì–´ë– í•œ ì´ìœ ë¡œ ìˆ˜ì‹ ìê°€ ì„œë²„ ë“±ì˜ ì˜¤ë¥˜ë¡œ ë©”ì¼ì„ ë°›ì§€ ëª»í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ì „ë‹¬ì´ ì •ìƒì ìœ¼ë¡œ ì´ë£¨ì–´ì§ˆ ë•Œê¹Œì§€ ë‹´ì•„ ë†“ê¸° ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤.

<br>

### Mail Access Protocol

&nbsp;&nbsp;ë©”ì¼ì„ ì£¼ê³  ë°›ëŠ” ì¼ë ¨ì˜ ê³¼ì •ì€ ë‹¤ìŒê³¼ ê°™ì´ í‘œí˜„ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

| No. | Description                                                                                                                                | Protocol                 | from                | to                  |
| --- | ------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------ | ------------------- | ------------------- |
| 1   | Aliceê°€ Bob@gmail.comìœ¼ë¡œ ë©”ì¼ì„ ë³´ëƒ…ë‹ˆë‹¤.                                                                                                 | SMTP(push)               | Alice's User Agent  | Alice's Mail Server |
| 2   | Aliceê°€ ì‚¬ìš©í•˜ëŠ” ë©”ì¼ ì„œë²„ëŠ” Bobì˜ ë©”ì¼ ì„œë²„ë¡œ ë©”ì¼ì„ ì „ë‹¬í•©ë‹ˆë‹¤.                                                                          | SMTP(push)               | Alice's Mail Server | Bob's Mail Server   |
| 3   | Bobì˜ ë©”ì¼ ì„œë²„ëŠ” í•´ë‹¹ ë©”ì¼ì„ Bobì´ë¼ëŠ” Mail boxì— ê°€ì§€ê³  ìˆë‹¤ê°€, Bobì´ ìš”ì²­(Req)ì„ ë³´ë‚´ë©´ í•´ë‹¹ ë©”ì¼ì„ Bobì˜ User Agentì— ì „ë‹¬(Res)í•©ë‹ˆë‹¤. | POP or IMAP or HTTP(Get) | Bob's Mail Server   | Bob's User Agent    |

<br>

> ğŸ’¡ **HTTP and SMTP**
>
> &nbsp;&nbsp;`HTTP`ì™€ `SMTP`ì˜ ê°€ì¥ í° ì°¨ì´ì ì€ ë©”ì‹œì§€ì˜ ì „ë‹¬ ë°©ì‹ì…ë‹ˆë‹¤. HTTPëŠ” ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µìœ¼ë¡œ í•„ìš”í•œ ë©”ì‹œì§€ë¥¼ `Pull`í•˜ëŠ” ë°©ì‹ì´ë¼ë©´ SMTPëŠ” ìì‹ ì´ ì£¼ë„ì ìœ¼ë¡œ ì„œë²„ì— ë©”ì‹œì§€ë¥¼ ë°€ì–´ë„£ëŠ” `Push` ë°©ì‹ì…ë‹ˆë‹¤.
>
> &nbsp;&nbsp;ë˜ í•˜ë‚˜ì˜ ì°¨ì´ì ì€, `HTTP`ëŠ” `Request`ì™€ `Response` ë‘ ê°€ì§€ í˜•ì‹ì˜ ë©”ì‹œì§€ ë°–ì— ì—†ì—ˆë‹¤ë©´, `SMTP`ëŠ” `HELO`, `RCPT`, `DATA`, `QUIT` ë“± ë‹¤ì–‘í•œ ì¢…ë¥˜ì˜ ë©”ì‹œì§€ê°€ ìˆìŠµë‹ˆë‹¤.

<br>

### Socket

- ì†Œì¼“ì€ Applicationê³¼ Network ì‚¬ì´ì˜ í•˜ë‚˜ì˜ `Interface`ì…ë‹ˆë‹¤.
- ì†Œì¼“ì€ OSì—ì„œ ì œê³µí•˜ëŠ” ì¼ì¢…ì˜ `System Call`ì…ë‹ˆë‹¤.
- Applicationì€ í†µì‹ ê°„ `IP Address`ì™€ `Socket`ì„ í†µí•´ ìƒëŒ€ Applicationì„ êµ¬ë¶„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì†Œì¼“ì€ `TCP`ë¥¼ ì‚¬ìš©í•˜ì—¬ `Reliable Delivery`ë¥¼ ì§€ì›í•˜ëŠ” `SOCK_STREAM`ê³¼ `UDP`ë¥¼ ì‚¬ìš©í•˜ëŠ” `SOCK_DGRAM`ìœ¼ë¡œ êµ¬ë¶„ë©ë‹ˆë‹¤.

<br>

### Socket API

| ì£¼ì²´            | APIs                                    | Description                                                                                                               | Operations                         |
| --------------- | --------------------------------------- | ------------------------------------------------------------------------------------------------------------------------- | ---------------------------------- |
| Client & Server | Create(domain, type, protocol)          | - domain : ì—°ê²°í•  ë„ë©”ì¸ ì£¼ì†Œ <br> - type : í†µì‹  íƒ€ì…(SOCK_STREAM or SOCK_DGRAM) <br> - protocol : Protocol within family | Creation and Setup                 |
| Server          | Bind(sockfd, sockaddr, myaddr, addrlen) | - sockfd : Create APIë¡œ ë°˜í™˜ëœ ì†Œì¼“ êµ¬ë¶„ì(socket file descriptor)                                                        | Creation and Setup                 |
| Server          | Listen()                                | í•´ë‹¹ ì†Œì¼“ì„ ì„œë²„ ì „ìš©ìœ¼ë¡œ ì‚¬ìš©í•˜ê² ë‹¤ëŠ” ì˜ë¯¸                                                                               | Creation and Setup                 |
| Server          | Accept()                                | í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„° ì—°ê²° ìš”ì²­ì´ ë°œìƒí•  ë•Œê¹Œì§€ Block                                                                          | Creation and Setup                 |
| Client          | Connect()                               | íŠ¹ì • ì„œë²„ì— ì—°ê²°                                                                                                          | Establising a connection, **TCP**  |
| Client & Server | Write(), Read()                         | ì—°ê²°ëœ ëŒ€ìƒë¼ë¦¬ ì„œë¡œ ë©”ì‹œì§€ë¥¼ ì£¼ê³  ë°›ìŒ                                                                                   | Sending and Receiving data         |
| Client          | Close()                                 | ì—°ê²°ì„ ëŠìŒ                                                                                                               | Tearing down a connection, **TCP** |

<br>

