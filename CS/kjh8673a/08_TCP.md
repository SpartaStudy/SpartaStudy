**TCP**

<br>

## TCP

윈도우 사이즈 조절하는 것이 센딩레이트를 조절하는 것이다.

상대방 리시버 버퍼사이즈, 네트워크 congestion을 봐야된다. 항상 중 중 최솟값으로 설정이된다.

상대방 리시버 버퍼사이즈에 따라서 조절할수 있는 것은 플로우컨트롤을 통해서.

네트워크 컨제션을 이용해 어떻게 조절할지.

### Congestion Control

플로우 컨트롤은 리시버 버퍼사이즈만 알면 되는 간단한 문제.

네트워크 congestion은 누가 알려줄 수 없다. 라우터가 알려줄 수도 있겠지만 라우터는 패킷포워딩을 하느라 시간이 없다. 따라서 congestion을 특정 현상을 통해 짐작할 수밖에 없다.

네트워크 congestion이 발생하면 패킷유실, 딜레이 두 현상이 일어난다.

- throughput: 단위시간당 얼마만큼의 데이터가 전달되는가.

congestion이 발생하게 되면 큐가 점점 차게 되고 그 이후의 패킷들이 드랍될 가능성이 높아진다.

따라서 리트랜스미션이 발생하게되고 실제적으로 의미있는 데이터 양이 줄어들고,

드랍됨에 따라 업스트림에 자원이 낭비되게 된다.

### TCP의 Congestion Control

additive increase / multiplicative decrease

세그먼트를 점차적으로 늘려가면서 전송하다가 더이상 ack가 오지 않을 때 보내던 양을 절반으로 줄인다.


